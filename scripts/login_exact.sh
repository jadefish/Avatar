#!/usr/bin/env bash

# Dummy script to simulate a client sending two exact-sized commands to a login
# server. Sends a Login Seed command (21 bytes) followed by a Login Request
# command (62 bytes) 3 seconds later.

# TODO: write a test for this case and remove this script.

(
  printf "\xef\xc0\xa8\x44\x33\x00\x00\x00\x07\x00\x00\x00\x00\x00\x00\x00\x6a\x00\x00\x00\x15"
  sleep 3
  printf "\x19\x43\x8f\x74\x1c\xaf\x6a\x95\xe4\x3c\x61\x4f\x58\x53\xd6\x94\xb5\x25\xed\x09\xfb\x82\x3e\x60\xcf\x18\x73\x46\xdc\x91\x37\x8c\x68\x8b\xf3\xda\x45\x1d\xb8\x2a\xc0\x35\x7c\xc1\x9f\x30\x67\xcc\x99\x33\xe6\x0c\x79\xc3\x1e\xf0\x87\x3c\x61\x4f\x58\x9f"
) | socat - TCP:localhost:7775
